{% extends 'base.html.twig' %}

{% block title %}Hello DashboardController!{% endblock %}

{% block body %}
<style>
    .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
    .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }
</style>

<div class="example-wrapper">

    <p>Bienvenue sur le dashboard ADMIN</p>
    
    <section class="w-12/12text md:-6/12 mx-auto flex-row justify-start items-center pb-20">
      <a href="dashboard/new-category" class="btn btn-primary ">
          <i class="bi bi-plus-lg font-semibold"></i>Category
      </a>
    </section>

    <div class="overflow-x-auto">
        <h2 class="text-xl text-center"> Users </h2>
        <table class="table">
          <thead>
            <tr>
              <th>id</th>
              <th>email</th>
              <th>role</th>
            </tr>
          </thead>
          <tbody>
            {% for user in users %}
                <tr>
                    <td>{{ user.id }}</td>
                    <td>{{ user.email }}</td>
                    <td>{{ user.roles[0] }}</td>

                </tr>
            {% endfor %}



        </tbody>
        </table>

    <div class="overflow-x-auto">
      <h2 class="text-xl text-center"> Categories </h2>
      
        <table class="table">
          <thead>
            <tr>
              <th>id</th>
              <th>email</th>
              <th>action</th>
            </tr>
          </thead>
          <tbody>
            {% for category in categories %}
                <tr>
                    <td>{{ category.id }}</td>
                    <td>{{ category.name }}</td>
                    <td>
                      <a href="/dashboard/edit-category/{{ category.id }}" class="btn btn-info">
                        <i class="bi bi-pen"></i> edit
                      </a>
                      <a href="/dashboard/delete-category/{{ category.id }}" class="btn btn-error">
                          <i class="bi bi-trash"></i> delete
                      </a>
                    </td>

                </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>

        

</div>
{% endblock %}
